<html>
<head>
  <link rel="stylesheet" href="/libs/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link href="https://fonts.googleapis.com/css?family=Gentium+Basic|Open+Sans" rel="stylesheet"> 
  <title>Volatile Carbon's Den of Self Promotion</title>
</head>
<body>
  <nav class="navbar navbar-toggleable-md navbar-light bg-faded">
    <a class="navbar-brand">
      <img src="/img/logo.png" width="32" class="d-inline-block align-top" alt="">
      Volatile Carbon's Den of Self Promotion
    </a>
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="/">Stats<span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://www.youtube.com/volatilecarbon" target="_blank">Youtube</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://twitter.com/volatilecarbon" target="_blank">Twitter</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://volatilecarbon.tumblr.com/" target="_blank">Tumblr</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://www.twitch.tv/volatilecarbon" target="_blank">Twitch</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://www.patreon.com/volatilecarbon" target="_blank">Patreon</a>
      </li>
    </ul>
  </nav>
  <div class="container">
    <p class="lead">
      Volatile Carbon is some loser that wants to make a living on the internet. Here's how he's doing.
    </p>
    <div class="row">
      <div class ="col-md-6">
        <h2>This Month's Income: $22 <span class="text-success">(+35.2%)</span></h2>
      </div> 
      <div class ="col-md-6">
        <h2>Monthly Goal: $600</h2>
      </div>
    </div>
    <h4>Progress to Goal</h4>
    <div class="progress">
      <div class="progress-bar" role="progressbar" aria-valuenow="4" style="width: 4%" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
    <h3 id="revenue">Historical Income</h3>
    <div class="row">
        <div class = "chart">
          <canvas id="income"></canvas>
        </div>
    </div>
    <h3 id="income">Income Detail</h3>
    <div class="row">
      <div class="col-md-4">
        <div class = "chart">
          <canvas id="patreon"></canvas>
        </div>
      </div>
      <div class="col-md-4">
        <div class = "chart">
          <canvas id="youtube"></canvas>
        </div>
      </div>
      <div class="col-md-4">
        <div class = "chart">
          <canvas id="donations"></canvas>
        </div>
      </div>
    </div>
  </div>
  <script src="/libs/chart.js/dist/Chart.js"></script>
  <script src="/libs/jquery/dist/jquery.js"></script>
  <script>
    var options = {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        }
    }

    var charts = ['income', 'patreon', 'youtube', 'donations']
    
    function getData(){
      var chartCtx = document.getElementById(charts[i]).getContext("2d");
      var chartName = charts[i];
      $.getJSON('/data/' + charts[i] + '.json', function(data) {
      new Chart(chartCtx, {
         type: 'line',
         data: data,
         options: options
        })
      });
    }

    for(var i = 0; i<charts.length; i++){
      getData(i);
    }
  </script>
</body>
</html>
